(()=>{var e={242:(e,t)=>{var n=document.createElement("div");function r(){n.remove()}n.classList.add("modal"),t.D=function(e,t,a){if("string"!=typeof e||"Victory"===e&&"lose"===t||"Defeat"===e&&"win"===t||"string"!=typeof t||"number"!=typeof a)throw new Error("Input data is wrong");n.innerHTML='<div class="modal__content">\n                        <h2 class="modal__settlement">'.concat(e,'!</h2>\n                        <h3 class="modal__result">You ').concat(t," with ").concat(a,' points</h3>\n                        <div class="modal__actions">\n                            <a class="modal__action-item modal__new-game-js" href="game.html">Start New Game</a>\n                            <a class="modal__action-item" href="highscores.html">High Scores</a>\n                            <a class="modal__action-item" href="index.html">Return</a>\n                        </div>                        \n                    </div>'),document.querySelector("body").prepend(n),document.querySelector(".modal__new-game-js").addEventListener("click",r)}},917:(e,t,n)=>{var r=n(576).getDataFromStorage;t.S=function(){var e=+r("computerPoints"),t=+r("userPoints");return t>e?(settlement="Victory",result="win"):(settlement="Defeat",result="lose"),{settlement,result,userPoints:t}}},423:(e,t)=>{var n;t.r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1?arguments[1]:void 0;if(e<1||e>60||"number"!=typeof e){var r=new Error("Invalid value for game time.");throw r}var a=document.querySelector(".timer__counter"),i=60*e,o=i/60,s=i-60*o;s<10&&(s="0"+s),o<10&&(o="0"+o),a.textContent="".concat(o,":").concat(s),n=setInterval((function(){(s=(i-=1)%60)<10&&(s="0"+s),(o=Math.floor(i/60))<10&&(o="0"+o),a.textContent="".concat(o,":").concat(s),0===i&&t()}),1e3)},t.N=function(){clearInterval(n)}},576:(e,t)=>{t.setDataInStorage=function(e,t){localStorage.setItem(e,t)},t.getDataFromStorage=function(e){return localStorage.getItem(e)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{"use strict";n.d(r,{e9:()=>re,c1:()=>ne,mn:()=>te,cW:()=>ee,xG:()=>Z,ym:()=>X});var e=[{shipName:"Carrier",size:5},{shipName:"Battleship",size:4},{shipName:"Destroyer",size:3},{shipName:"Submarine",size:2},{shipName:"Patrol Boat",size:1}],t=n(576),a=document.querySelectorAll(".board__fields"),i=document.querySelectorAll(".board__characters"),o=document.querySelectorAll(".board__numbers"),s=document.querySelectorAll(".ships__row"),l=document.querySelector(".player"),d=document.querySelector(".ships__heading"),c=document.querySelector(".actions__button"),u=document.querySelectorAll(".board__fields"),m=[],f=[];!function(){for(var e=0;e<10;e++)for(var t=0;t<10;t++)f.push("".concat(String.fromCharCode(e+65)).concat(t+1))}();var h=function(t,n){for(var r=[],a=0;a<2;a++)r.push(Math.floor(10*Math.random()));return"horizontal"===n&&r[1]+e[t].size>10?r[1]=Math.abs(r[1]-e[t].size):r[0]+e[t].size>10&&(r[0]=Math.abs(r[0]-e[t].size)),r},v=function t(n,r){for(var a=h(n,r),i=[],o=0;o<e[n].size;o++)i.push(m[a[0]+o][a[1]]);if(i.some((function(e){return!e.isEmpty})))t(n,r);else for(var s=0;s<e[n].size;s++)m[a[0]+s].fill({isEmpty:!1,shipName:e[n].shipName,fieldName:f[10*(a[0]+s)+a[1]],hit:!1},a[1],a[1]+1)},p=function t(n,r){var a=h(n,r);if(m[a[0]].slice(a[1],a[1]+e[n].size).some((function(e){return!e.isEmpty})))t(n,r);else for(var i=0;i<e[n].size;i++)m[a[0]][a[1]+i]={isEmpty:!1,shipName:e[n].shipName,fieldName:f[10*a[0]+a[1]+i],hit:!1}},y=function(t){!function(){m=[];for(var e=0;e<10;e++){m.push([]);for(var t=0;t<10;t++)m[e].push({isEmpty:!0,fieldName:f[10*e+t]})}}();var n=function(){for(var t=0;t<e.length;t++){var n=0===Math.floor(2*Math.random())?"vertical":"horizontal";"horizontal"===n?p(t,n):v(t,n)}return m}();u[t?0:1].innerHTML="";var r=m.flat(1/0);return r.map((function(e,n){var a=document.createElement("div");a.classList.add("board__field"),t&&(r[n].isEmpty||a.classList.add("ship"),""!=r[n].shipName&&a.setAttribute("data-ship-name-board",r[n].shipName)),a.setAttribute("data-field-name",f[n]),a.dataset.id=n,u[t?0:1].appendChild(a)})),g(n)},g=function(e){return[e.flat(1/0).filter((function(e){return e.isEmpty})),e.flat(1/0).filter((function(e){return!e.isEmpty}))]},S=function(t){var n=t.flat(1/0);return{ships:e.map((function(e){return{shipName:e.shipName,sunk:!1,fields:b(e,n)}})),lostAllShips:!1}},b=function(e,t){for(var n=[],r=t.filter((function(t){return t.shipName===e.shipName})),a=0;a<r.length;a++)n.push({name:r[a].fieldName,hit:!1});return n},_=n(423),L=n(242),E=n(917),N=document.querySelector(".board__fields--computer"),w=document.querySelector(".button--start"),q=!1,I=function(){(function(e,t){e?(d.innerText="Yours ships:",c.style.display="none",t.style.display="none"):(d.innerText="Deploy Your Ships:",c.style.display="flex",t.style.display="flex")})(q=!q,w),N.classList.remove("overlay"),(0,_.r)(1,A)},A=function(){(0,_.N)();var e=(0,E.S)(),t=e.settlement,n=void 0===t?"":t,r=e.result,a=void 0===r?"":r,i=e.userPoints,o=void 0===i?"":i;(0,L.D)(n,a,o)};function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e,n){var r,a,i={name:null!==(r=(0,t.getDataFromStorage)("playerName"))&&void 0!==r?r:"Player",score:null!=n?n:"",status:null!=e?e:""},o=(0,t.getDataFromStorage)("highScores");if(o){var s=[].concat((a=JSON.parse(o),function(e){if(Array.isArray(e))return D(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[i]).sort((function(e,t){return t.score-e.score})).slice(0,10);(0,t.setDataInStorage)("highScores",JSON.stringify(s))}else{var l=[i];(0,t.setDataInStorage)("highScores",JSON.stringify(l))}},x=[!1,!0,!1,!1,!1,!1,!0,!1,!0,!1],k=document.querySelector(".board__fields--player"),z=document.querySelector(".board__fields--computer");function B(){var e,n=1e3*Math.random()+1e3,r=["disabled","overlay"];(e=z.classList).add.apply(e,r),setTimeout((function(){var e,n=Math.floor(Math.random()*x.length);if(x[n]){var a=Math.floor(Math.random()*Z.length),i=Z[a],o=i.fieldName;e=k.querySelector("[data-field-name=".concat(o));var s=i.shipName;Z.splice(a,1);var l=X.ships.find((function(e){return e.shipName===s})),d=l.fields.findIndex((function(e){return e.name===o}));l.fields[d].hit=!0;var c=l.fields.every((function(e){return e.hit}));l.sunk=c,e.classList.add("hit");var u=X.ships.every((function(e){return e.sunk}));if(X.lostAllShips=u,(0,t.setDataInStorage)("computerPoints",+(0,t.getDataFromStorage)("computerPoints")+1),u){var m=(0,E.S)(),f=m.settlement,h=m.result,v=m.userPoints;(0,L.D)(f,h,+v),(0,_.N)(),M(h,+v)}B()}else{var p,y=Math.floor(Math.random()*ee.length),g=ee[y].fieldName;(e=k.querySelector("[data-field-name=".concat(g))).classList.add("miss"),ee.splice(y,1),(p=z.classList).remove.apply(p,r)}}),n)}var P,C,T,O,j,F,H,R=document.querySelector(".board__fields--computer");function J(){event.target.removeEventListener("click",J),event.target.style.cursor="not-allowed";var e=event.target.dataset.fieldName,n=R.querySelector("[data-field-name=".concat(e)),r=ne.findIndex((function(t){return t.fieldName===e}));if(r>=0){var a=ne[r].shipName;ne.splice(r,1);var i=te.ships.find((function(e){return e.shipName===a})),o=i.fields.findIndex((function(t){return t.name===e}));i.fields[o].hit=!0;var s=i.fields.every((function(e){return e.hit}));i.sunk=s,s&&i.fields.forEach((function(e){R.querySelector("[data-field-name=".concat(e.name)).classList.add("sunk")})),n.classList.add("hit");var l=te.ships.every((function(e){return e.sunk}));if(te.lostAllShips=l,(0,t.setDataInStorage)("userPoints",+(0,t.getDataFromStorage)("userPoints")+1),l){var d=(0,E.S)(),c=d.settlement,u=d.result,m=d.userPoints;(0,L.D)(c,u,+m),(0,_.N)(),M(u,+m)}}else r=re.findIndex((function(t){return t.fieldName===e})),r>=0&&(re.splice(r,1),n.classList.add("miss")),B()}var Y=[],G=!1;function U(){3==++j&&(document.querySelector(".rightButton").disabled=!0),j>0&&(document.querySelector(".leftButton").disabled=!1),$(),W()}function V(){0==--j&&(document.querySelector(".leftButton").disabled=!0),j<3&&(document.querySelector(".rightButton").disabled=!1),$(),W()}function W(){switch(j%4){case 0:P.classList.remove("hidden"),F.classList.add("invisible");break;case 1:C.classList.remove("hidden"),F.classList.remove("invisible");break;case 2:T.classList.remove("hidden"),H.classList.remove("invisible");break;case 3:O.classList.remove("hidden"),H.classList.add("invisible")}}function $(){P.classList.add("hidden"),C.classList.add("hidden"),T.classList.add("hidden"),O.classList.add("hidden")}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X,Z,ee,te,ne,re,ae,ie,oe=document.querySelector(".actions__button-randomize");document.addEventListener("keydown",(function(e){var t,n,r;Y.push(e.key),Y.length>4&&Y.shift(),2==Y[0]&&0==Y[1]&&1==Y[2]&&1==Y[3]&&(function(){if(j=0,!G){G=!0;var e=document.createElement("div");e.classList.add("modal"),e.innerHTML='\n            <div class="modal__content easter-egg">\n                <div class="slider">\n                    <button id=\'leftButton\' class=\'leftButton button\'>&lt</button>\n                    <div id=\'slide1\' class="slide hidden">\n                        <h2>Secret Codes and Battleships!</h2>\n                        <div class="slide slide_1">\n                        </div>\n                        <h3>Author: Darren Hayes<br>Released: 21 October 2011</h3>\n                    </div>\n                    <div id=\'slide2\' class="hidden slide slide_2">\n                    </div>\n                    <div id=\'slide3\' class="hidden slide slide_3">\n                    </div>\n                    <div id=\'slide4\' class="hidden slide slide_4">\n                    </div>\n                    <button id =\'rightButton\' class=\'rightButton button\'>></button>\n                </div>\n            <a href="" class="return" onclick="offModal()">Return</a>\n            </div>\n        ',document.body.prepend(e)}P=document.getElementById("slide1"),C=document.getElementById("slide2"),T=document.getElementById("slide3"),O=document.getElementById("slide4"),F=document.getElementById("leftButton"),H=document.getElementById("rightButton")}(),t=document.querySelector(".rightButton"),n=document.querySelector(".leftButton"),t.addEventListener("click",U),n.addEventListener("click",V),W()),"Escape"==e.key&&G&&((r=document.body.firstChild).innerHTML="",r.remove(),G=!1),"ArrowRight"==e.key&&j<3&&G&&U(),"ArrowLeft"==e.key&&j>0&&G&&V()})),a.forEach((function(e){for(var t=0;t<Math.pow(10,2);t++){var n=document.createElement("div");n.classList.add("board__field"),n.dataset.id=t,e.appendChild(n),n.style.width="".concat(10,"%"),n.style.height="".concat(10,"%")}})),i.forEach((function(e){for(var t=0;t<10;t++){var n=document.createElement("div");n.classList.add("board__characters-char"),n.innerHTML="<p>".concat(String.fromCharCode(t+65),"</p>"),e.appendChild(n),n.style.width="40px",n.style.height="".concat(10,"%")}})),o.forEach((function(e){for(var t=0;t<10;t++){var n=document.createElement("div");n.classList.add("board__numbers-numb"),n.innerHTML="<p>".concat(t+1,"</p>"),e.appendChild(n),n.style.width="".concat(10,"%"),n.style.height="40px"}})),s.forEach((function(t){e.forEach((function(n,r){var a=document.createElement("div");a.classList.add("ships-ship"),a.dataset.name=e[r].shipName,window.addEventListener("resize",(function(){var e=window.innerWidth;a.style.width="".concat(e>1399?25*n.size:e>1023?15*n.size:10*n.size,"px")})),a.style.width="".concat(25*n.size,"px"),t.appendChild(a)}))})),(0,t.getDataFromStorage)(name)?l.innerText="".concat((0,t.getDataFromStorage)(name)):l.innerText="Player",ae=document.querySelector(".board__player-name"),ie=(0,t.getDataFromStorage)("playerName"),ae.innerHTML=ie,oe.addEventListener("click",(function(){var e=K(y(!0),2);ee=e[0],Z=e[1],X=S(Z),w.addEventListener("click",I),w.classList.remove("disabled"),(0,t.setDataInStorage)("userPoints",0),(0,t.setDataInStorage)("computerPoints",0)}));var se=K(y(!1),2);re=se[0],ne=se[1],te=S(ne),document.querySelectorAll(".board__fields--computer .board__field").forEach((function(e){e.addEventListener("click",J)}))})()})();